version: '3'
services:
    composto:
      build: ./composto
      container_name: composto_nginx_nfs
      image: img_ubuntu_nginx_nfs
      privileged: true
      ports:
      - 8080:8080
      - 2049:2049
      #- 111:111
      volumes:
      - ./composto/share_file:/usr/share/nginx/html
  
  #Servico de Redis
  # redis:
  #   build: ./redis
  #   container_name: redis_container
  #   image: redis_image
  #   ports:
  #   - "6379:6379"
  #   volumes:
  #   - ./redis/data:/data

#   NFS:
#     container_name: nfs
#     #build: ./nfs
#     #image: nfs_testez1
#     image: itsthenetwork/nfs-server-alpine:latest
#     privileged: true
#     ports:
#     - "2049:2049"
#     volumes:
#     - ./nfs/share_nfs:/nfsshare
#     environment:
#     - SHARED_DIRECTORY=/nfsshare

  # nginx:
  #   container_name: srv-nginx
  #   image: nginx
  #   volumes:
  #   - ./nginx/content:/usr/share/nginx/html
  #   ports:
  #   - "8080:80"

  # #Servico de npm privado
  # sinopia:
  #   image: keyvanfatehi/sinopia:latest
  #   ports: 
  #   - "4873:4873"
  #   volumes:
  #   - ./sinopia/storage:/opt/sinopia/storage
  #   - ./sinopia/etc/config.yaml:/opt/sinopia/config.yaml

  # #Banco de dados NoSQL MongoDB
  # mongo:
  #   image: mongo
  #   container_name: mongo_container
  #   hostname: "mongo01"
  #   ports:
  #   - 27017:27017
  #   labels:
  #     NAME: "mongo01"
  #   volumes:
  #   - ./mongo/data/:/data/db

  # #servico de Syslog Unix
  # syslog:
  #   container_name: syslog_container
  #   image: balabit/syslog-ng
  #   ports:
  #   - "601:601"
  #   - "514:514"
  #   volumes:
  #   - ./syslog/conf/syslog-ng.conf:/etc/syslog-ng/syslog-ng.conf
  #   - ./syslog/logs:/var/log
